<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>高效做项目工具 - Web版</title>
    <!-- Bootstrap CSS -->
    <link href="./static/css/bootstrap.min.css" rel="stylesheet">
    <!-- Custom CSS -->
    <link rel="stylesheet" href="./static/css/style.css">
</head>
<body>
    <!-- 整体容器 -->
    <div class="container-fluid h-100 d-flex flex-column">
        <!-- 顶部状态栏 -->
        <header class="row bg-light p-2 border-bottom">
            <div class="col-12 text-center">
                <span id="status-message" class="text-dark">高效做项目工具</span>
            </div>
        </header>

        <!-- 主内容区域：左侧导航栏 + 右侧功能区 -->
        <div class="row flex-grow-1">
            <!-- 导航栏 (左侧) -->
            <nav class="col-md-2 bg-light p-3 border-end d-flex flex-column">
                <h5 class="mb-3">功能列表</h5>
                <div class="nav flex-column nav-pills" id="v-pills-tab" role="tablist" aria-orientation="vertical">
                    <button class="nav-link active" id="v-pills-level1-tab" data-bs-toggle="pill" data-bs-target="#v-pills-level1" type="button" role="tab" aria-controls="v-pills-level1" aria-selected="true" data-func-id="1">一级序号</button>
                    <button class="nav-link" id="v-pills-level2-tab" data-bs-toggle="pill" data-bs-target="#v-pills-level2" type="button" role="tab" aria-controls="v-pills-level2" aria-selected="false" data-func-id="2">二级序号</button>
                    <button class="nav-link" id="v-pills-twolevel-tab" data-bs-toggle="pill" data-bs-target="#v-pills-twolevel" type="button" role="tab" aria-controls="v-pills-twolevel" aria-selected="false" data-func-id="3">
                        两级序号 
                    </button>
                    <button class="nav-link" id="v-pills-delete-tab" data-bs-toggle="pill" data-bs-target="#v-pills-delete" type="button" role="tab" aria-controls="v-pills-delete" aria-selected="false" data-func-id="4">删除序号</button>
                    <button class="nav-link" id="v-pills-addbr-tab" data-bs-toggle="pill" data-bs-target="#v-pills-addbr" type="button" role="tab" aria-controls="v-pills-addbr" aria-selected="false" data-func-id="5">加换行符</button>
                    <button class="nav-link" id="v-pills-smart-tab" data-bs-toggle="pill" data-bs-target="#v-pills-smart" type="button" role="tab" aria-controls="v-pills-smart" aria-selected="false" data-func-id="11">智能处理</button>
                    <button class="nav-link" id="v-pills-quickcopy-tab" data-bs-toggle="pill" data-bs-target="#v-pills-quickcopy" type="button" role="tab" aria-controls="v-pills-quickcopy" aria-selected="false" data-func-id="6">快捷复制</button>
                    
                    <button class="nav-link" id="v-pills-smart-title-tab" data-bs-toggle="pill" data-bs-target="#v-pills-smart-title" type="button" role="tab" aria-controls="v-pills-smart-title" aria-selected="false" data-func-id="12">生成标题</button>
                </div>
            </nav>

            <!-- 内容区域 (右侧) -->
            <main class="col-md-10 p-3 d-flex flex-column">
                <div class="tab-content flex-grow-1" id="v-pills-tabContent">
                    <!-- Tab 1: 一级序号 -->
                    <div class="tab-pane fade show active" id="v-pills-level1" role="tabpanel" aria-labelledby="v-pills-level1-tab">
                        <div class="mb-3">
                            <label for="input_text_level1" class="form-label">
                                请输入或粘贴需要修改的文本 
                            </label>
                            <textarea class="form-control placeholder-text" id="input_text_level1" rows="3" placeholder="将您提供的文本一键转换为（1）（2）…格式"></textarea>
                        </div>
                        <div class="d-flex justify-content-center mb-3">
                           
                            <button type="button" class="btn btn-secondary me-2" onclick="clearInput('level1')">清空</button>
                            <button type="button" class="btn btn-primary me-2" onclick="processText('level1')">转换</button>
                        </div>
                        <div class="mb-3">
                            <label for="output_text_level1" class="form-label">输出结果</label>
                            <textarea class="form-control" id="output_text_level1" rows="3" readonly></textarea>
                        </div>
                        <div class="d-flex justify-content-center">
                            <button type="button" class="btn btn-success" onclick="copyOutput('level1')">复制</button>
                        </div>
                    </div>

                    <!-- Tab 2: 二级序号 -->
                    <div class="tab-pane fade" id="v-pills-level2" role="tabpanel" aria-labelledby="v-pills-level2-tab">
                        <div class="mb-3">
                            <label for="input_text_level2" class="form-label">
                                请输入或粘贴需要修改的文本 
                            </label>
                            <textarea class="form-control placeholder-text" id="input_text_level2" rows="3" placeholder="将您提供的文本一键转换为①②③…格式"></textarea>
                        </div>
                        <div class="d-flex justify-content-center mb-3">
                           
                            <button type="button" class="btn btn-secondary me-2" onclick="clearInput('level2')">清空</button>
                            <button type="button" class="btn btn-primary me-2" onclick="processText('level2')">转换</button>
                        </div>
                        <div class="mb-3">
                            <label for="output_text_level2" class="form-label">输出结果</label>
                            <textarea class="form-control" id="output_text_level2" rows="3" readonly></textarea>
                        </div>
                        <div class="d-flex justify-content-center">
                            <button type="button" class="btn btn-success" onclick="copyOutput('level2')">复制</button>
                        </div>
                    </div>

                    <!-- Tab 3: 两级序号 -->
                    <div class="tab-pane fade" id="v-pills-twolevel" role="tabpanel" aria-labelledby="v-pills-twolevel-tab">
                        <div class="mb-3">
                            <label for="input_text_twolevel" class="form-label">
                                请输入或粘贴需要修改的文本
                                <span class="text-info" data-bs-toggle="tooltip" data-bs-placement="right" 
                                      title="使用两级序号转换功能前，需要先将文本分别在一级序号和二级序号转换完成">
                                    ◎
                                </span>
                            </label>
                            <textarea class="form-control placeholder-text" id="input_text_twolevel" rows="3" placeholder="一级序号转换为（1）（2）...格式，二级序号转换为①②...格式"></textarea>
                        </div>
                        <div class="d-flex justify-content-center mb-3">
                         
                            <button type="button" class="btn btn-secondary me-2" onclick="clearInput('twolevel')">清空</button>
                            <button type="button" class="btn btn-primary me-2" onclick="processText('twolevel')">转换</button>
                        </div>
                        <div class="mb-3">
                            <label for="output_text_twolevel" class="form-label">输出结果</label>
                            <textarea class="form-control" id="output_text_twolevel" rows="3" readonly></textarea>
                        </div>
                        <div class="d-flex justify-content-center">
                            <button type="button" class="btn btn-success" onclick="copyOutput('twolevel')">复制</button>
                        </div>
                    </div>

                    <!-- Tab 4: 删除序号 -->
                    <div class="tab-pane fade" id="v-pills-delete" role="tabpanel" aria-labelledby="v-pills-delete-tab">
                        <div class="mb-3">
                            <label for="input_text_delete" class="form-label">
                                请输入或粘贴需要修改的文本
                            </label>
                            <textarea class="form-control placeholder-text" id="input_text_delete" rows="3" placeholder="去掉序号，空一行，转换后可复制粘贴到申报条件整理框里点击一键同步"></textarea>
                        </div>
                        <div class="d-flex justify-content-center mb-3">
                           
                            <button type="button" class="btn btn-secondary me-2" onclick="clearInput('delete')">清空</button>
                            <button type="button" class="btn btn-primary me-2" onclick="processText('delete')">转换</button>
                        </div>
                        <div class="mb-3">
                            <label for="output_text_delete" class="form-label">输出结果</label>
                            <textarea class="form-control" id="output_text_delete" rows="3" readonly></textarea>
                        </div>
                        <div class="d-flex justify-content-center">
                            <button type="button" class="btn btn-success" onclick="copyOutput('delete')">复制</button>
                        </div>
                    </div>

                    <!-- Tab 5: 加换行符 -->
                    <div class="tab-pane fade" id="v-pills-addbr" role="tabpanel" aria-labelledby="v-pills-addbr-tab">
                        <div class="mb-3">
                            <label for="input_text_addbr" class="form-label">
                                请输入或粘贴需要修改的文本
                            </label>
                            <textarea class="form-control placeholder-text" id="input_text_addbr" rows="3" placeholder="句末加上&lt;br&gt;标签，转换后可复制粘贴到扶持标准输入框"></textarea>
                        </div>
                        <div class="d-flex justify-content-center mb-3">
                           
                            <button type="button" class="btn btn-secondary me-2" onclick="clearInput('addbr')">清空</button>
                            <button type="button" class="btn btn-primary me-2" onclick="processText('addbr')">转换</button>
                        </div>
                        <div class="mb-3">
                            <label for="output_text_addbr" class="form-label">输出结果</label>
                            <textarea class="form-control" id="output_text_addbr" rows="3" readonly></textarea>
                        </div>
                        <div class="d-flex justify-content-center">
                            <button type="button" class="btn btn-success" onclick="copyOutput('addbr')">复制</button>
                        </div>
                    </div>

                    <!-- Tab 7: 智能处理 -->
                    <div class="tab-pane fade" id="v-pills-smart" role="tabpanel" aria-labelledby="v-pills-smart-tab">
                        <div class="mb-3">
                            <label for="input_text_smart" class="form-label">
                                请输入或粘贴需要清理的文本
                            </label>
                            <textarea class="form-control placeholder-text" id="input_text_smart" rows="3" placeholder="删除空格键和换行符；所有的英文标点为中文标点（网址和时间不会转换）；判断用户粘贴的文本有无序号进行智能分段。"></textarea>
                        </div>
                        <div class="d-flex justify-content-center mb-3">
                           
                            <button type="button" class="btn btn-secondary me-2" onclick="clearInput('smart')">清空</button>
                            <button type="button" class="btn btn-primary me-2" onclick="processText('smart')">转换</button>
                        </div>
                        <div class="mb-3">
                            <label for="output_text_smart" class="form-label">输出结果</label>
                            <textarea class="form-control" id="output_text_smart" rows="3" readonly></textarea>
                        </div>
                        <div class="d-flex justify-content-center">
                            <button type="button" class="btn btn-success" onclick="copyOutput('smart')">复制</button>
                        </div>
                    </div>

                    <!-- Tab 8: 快捷复制 -->
                    <div class="tab-pane fade" id="v-pills-quickcopy" role="tabpanel" aria-labelledby="v-pills-quickcopy-tab">
                        <p class="text-danger">一键复制做项目时常用固定语句</p>

                        <div class="card overflow-auto" style="max-height: 400px;">
                            <div class="card-body">
                                <div id="quick_copy_area">
                                    <!-- 快捷复制内容将由 JavaScript 动态填充 -->
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Tab Pane: 智能标题生成 -->
                    <div class="tab-pane fade" id="v-pills-smart-title" role="tabpanel" aria-labelledby="v-pills-smart-title-tab">
                        <div class="mb-3">
                            <label for="inputTitle" class="form-label">
                                请输入申报通知标题：
                                <span class="text-info" data-bs-toggle="tooltip" data-bs-placement="right" 
                                      title="生成的标题仅供参考，可能需要人为进行最终修改">
                                    ◎
                                </span>
                            </label>
                            <textarea class="form-control placeholder-text" id="inputTitle" rows="3" placeholder="自动生成标题（因逻辑复杂，结果无法保证完全准确）"></textarea>
                        </div>
                        
                        <div class="d-flex justify-content-center mb-3">
                            <button type="button" class="btn btn-secondary me-2" onclick="clearInputSmartTitle()">清空</button>
                            <button type="button" class="btn btn-primary" onclick="generateTitle()">生成</button>
                        </div>

                        <div class="mb-3">
                            <label class="form-label">输出结果</label>
                            <div class="form-control" style="min-height: 60px; overflow-wrap: break-word; padding: 0.375rem 0.75rem;"><span id="outputTitle">等待输入...</span></div>
                        </div>
                        
                        <div class="d-flex justify-content-center">
                            <button type="button" class="btn btn-success me-2" onclick="copyOutputSmartTitle()">复制</button>
                            <button id="convertVerbButton" class="btn btn-secondary" onclick="cycleFundingVerb()" style="display: none;">更换</button>
                        </div>
                    </div>

                </div>
            </main>
        </div>
    </div>

    <!-- Toast Container for general notifications -->
    <div class="toast-container position-fixed top-0 start-50 translate-middle-x p-3">
        <div id="liveToast" class="toast" role="alert" aria-live="assertive" aria-atomic="true">
            <div class="toast-header">
                <strong class="me-auto">提示</strong>
                <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>
            </div>
            <div class="toast-body" id="toast-message">
            </div>
        </div>
    </div>

    <!-- Keyword Alert Modal -->
    <div class="modal fade" id="keywordAlertModal" tabindex="-1" aria-labelledby="keywordAlertModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="keywordAlertModalLabel">提示</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body" id="keywordAlertModalBody">
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" data-bs-dismiss="modal">确认关闭</button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Bootstrap JS Bundle with Popper -->
    <script src="./static/js/bootstrap.bundle.min.js"></script>
    <!-- Custom JavaScript - 核心公共文件，必须先加载 -->
    <script src="./static/js/script.js"></script>
    <!-- 新拆分的功能文件 -->
    <script src="./static/js/level1_level2_quickcopy_script.js"></script>
    <script src="./static/js/two_level_script.js"></script>
    <script src="./static/js/delete_addbr_script.js"></script>
    <script src="./static/js/smart_process_script.js"></script>
    <!-- 智能标题生成功能的独立JavaScript文件 -->
    <script src="./static/js/smart_title_script.js"></script> 
</body>
</html>